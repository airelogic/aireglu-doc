import{_ as e,c as t,o as a,a4 as o}from"./chunks/framework.ttppV29E.js";const i="/assets/data-tree.KQrsuxi2.png",n="/assets/create-path.1s27M9pi.png",s="/assets/using-path.BZPI3yPf.png",r="/assets/xml-mapping-task-functions.DoriKOcK.png",l="/assets/using-ag-functions-templating.DcGFxBmZ.png",d="/assets/secrets-toolbox.CI4fqQn2.png",c="/assets/variables-toolbox.DMZMPcCR.png",h="/assets/task-preview.DPeqjFLk.png",u="/assets/filters.ByAcnOxU.png",T=JSON.parse('{"title":"Endpoint Tasks","description":"","frontmatter":{},"headers":[],"relativePath":"docs/endpoints/tasks.md","filePath":"docs/endpoints/tasks.md","lastUpdated":1762356227000}'),p={name:"docs/endpoints/tasks.md"},f=o('<h1 id="endpoint-tasks" tabindex="-1">Endpoint Tasks <a class="header-anchor" href="#endpoint-tasks" aria-label="Permalink to &quot;Endpoint Tasks&quot;">​</a></h1><h2 id="introduction" tabindex="-1">Introduction <a class="header-anchor" href="#introduction" aria-label="Permalink to &quot;Introduction&quot;">​</a></h2><p>Tasks are the bread and butter of AireGlu Endpoints. There are a number of included Tasks you can use, or you can write your own <a href="/docs/advanced/adapters.html">adapters</a> to create custom tasks.</p><h3 id="http-request" tabindex="-1"><a href="./http-request.html">HTTP Request</a> <a class="header-anchor" href="#http-request" aria-label="Permalink to &quot;[HTTP Request](http-request)&quot;">​</a></h3><p>The HTTP Request task is used to communicate with external services. You can use this to send data to your APIs, or fetch data from other sources.</p><h3 id="http-response-handler" tabindex="-1"><a href="./http-response-handler.html">HTTP Response Handler</a> <a class="header-anchor" href="#http-response-handler" aria-label="Permalink to &quot;[HTTP Response Handler](http-response-handler)&quot;">​</a></h3><p>The Response Handler can only be used when linked to an HTTP Request. This handles what is returned from the request (e.g. the data from your API). You don&#39;t have to include this if you don&#39;t care about the result of your request, but more often than not the two come as a pair.</p><h3 id="mesh-message" tabindex="-1"><a href="./mesh-message.html">MESH Message</a> <a class="header-anchor" href="#mesh-message" aria-label="Permalink to &quot;[MESH Message](mesh-message)&quot;">​</a></h3><p>The MESH Message task lets you create and send mail via the MESH workflow system.</p><h3 id="email" tabindex="-1"><a href="./email.html">Email</a> <a class="header-anchor" href="#email" aria-label="Permalink to &quot;[Email](email)&quot;">​</a></h3><p>The Email task allows you to send an email. This can be sent from your own email servers, or from AireGlu&#39;s default email server.</p><h3 id="sms" tabindex="-1"><a href="./sms.html">SMS</a> <a class="header-anchor" href="#sms" aria-label="Permalink to &quot;[SMS](sms)&quot;">​</a></h3><p>The SMS task allows you to send text messages using either the MessageBird or GOV.UK notify services</p><h3 id="job" tabindex="-1"><a href="./job.html">Job</a> <a class="header-anchor" href="#job" aria-label="Permalink to &quot;[Job](job)&quot;">​</a></h3><p>The Job task allows an endpoint to be run at a specified time or interval, much like a scheduled task or cron job.</p><h3 id="fax" tabindex="-1"><a href="./fax.html">Fax</a> <a class="header-anchor" href="#fax" aria-label="Permalink to &quot;[Fax](fax)&quot;">​</a></h3><p>The Fax task allows you to send a message or PDF to a Fax machine. A PDF is required and can be part of your input data.</p><h3 id="http-response" tabindex="-1"><a href="./http-response.html">HTTP Response</a> <a class="header-anchor" href="#http-response" aria-label="Permalink to &quot;[HTTP Response](http-response)&quot;">​</a></h3><p>Lets you specify an HTTP response that the Endpoint should return as its result.</p><h3 id="http-redirect" tabindex="-1"><a href="./http-redirect.html">HTTP Redirect</a> <a class="header-anchor" href="#http-redirect" aria-label="Permalink to &quot;[HTTP Redirect](http-redirect)&quot;">​</a></h3><p>Lets you specify a redirection that should occur as the result of the Endpoint. Useful for sending the user to a &quot;Thank you&quot; page for instance.</p><h3 id="mapping" tabindex="-1"><a href="./mapping.html">Mapping</a> <a class="header-anchor" href="#mapping" aria-label="Permalink to &quot;[Mapping](mapping)&quot;">​</a></h3><p>The Mapping task is for data transformation. It can be used to reformat the data, or modify it in the pipeline. The output of this can be used in any subsequent tasks.</p><h3 id="pdf" tabindex="-1"><a href="./pdf.html">PDF</a> <a class="header-anchor" href="#pdf" aria-label="Permalink to &quot;[PDF](pdf)&quot;">​</a></h3><p>The PDF task lets you return a PDF document as the result of the Endpoint.</p><h3 id="jwt" tabindex="-1"><a href="./jwt.html">JWT</a> <a class="header-anchor" href="#jwt" aria-label="Permalink to &quot;[JWT](jwt)&quot;">​</a></h3><p>The JWT task allows you to generate a JWT with customisable headers &amp; payload, with a choice of encryption and/or signing algorithms.</p><h3 id="audit" tabindex="-1"><a href="./audit.html">Audit</a> <a class="header-anchor" href="#audit" aria-label="Permalink to &quot;[Audit](audit)&quot;">​</a></h3><p>The Audit task generates logs and sends them to AireAudit. To view these logs you can navigate to <a href="https://suite.aireinnovate.com/audit" target="_blank" rel="noreferrer">AireAudit</a>. Here you’ll be prompted to sign in, and once logged in, you’ll see a list of audit logs which you can apply filters on.</p><h1 id="task-configuration" tabindex="-1">Task Configuration <a class="header-anchor" href="#task-configuration" aria-label="Permalink to &quot;Task Configuration&quot;">​</a></h1><h1 id="context-data" tabindex="-1">Context Data <a class="header-anchor" href="#context-data" aria-label="Permalink to &quot;Context Data&quot;">​</a></h1><p>The Context Data panel is found on the left-hand side of mapping tasks and provides access to dynamic data, variables, functions, and secrets for building your endpoint logic.</p><ul><li><a href="#paths">Paths</a></li><li><a href="#functions">Functions</a></li><li><a href="#variables">Variables</a></li><li><a href="#secrets">Secrets</a></li></ul><h2 id="paths" tabindex="-1">Paths <a class="header-anchor" href="#paths" aria-label="Permalink to &quot;Paths&quot;">​</a></h2><p>Paths, provide access to the input data that was originally sent in to the endpoint, and the outputs of any Mapping tasks and from HTTP Response Handlers. Changing the <code>Data Origin</code> field allows you to choose between available data sets.</p><h4 id="data-tree-view" tabindex="-1">Data Tree View <a class="header-anchor" href="#data-tree-view" aria-label="Permalink to &quot;Data Tree View&quot;">​</a></h4><p>The default Data Tree tab displays your available data in an expandable tree structure:</p><ul><li><strong>Data Origin</strong>: Select between available data sets using the dropdown (e.g., &quot;Input&quot; for the original request data)</li><li><strong>Tree Navigation</strong>: Expand objects and arrays to explore the data structure</li><li><strong>Preview Values</strong>: Click the eye icon next to any field to see a preview of its value</li><li><strong>Insert Paths</strong>: Click the arrow icon to insert the JSON path into your mapping</li></ul><p><img src="'+i+'" alt="data tree"></p><h4 id="path-view" tabindex="-1">Path View <a class="header-anchor" href="#path-view" aria-label="Permalink to &quot;Path View&quot;">​</a></h4><p>Switch to the Path View tab to create custom path mappings:</p><ul><li><strong>Add Custom Paths</strong>: Enter a custom path key and specify the full JSON path (e.g., $.bookstore.socialMedia.instagram)</li><li><strong>Manage Paths</strong>: Edit or delete existing custom paths using the action icons</li><li><strong>Reusable Mappings</strong>: Custom paths appear in the &quot;Existing Paths&quot; list for easy reuse across your mapping</li></ul><p><img src="'+n+'" alt="data tree"></p><h4 id="using-paths" tabindex="-1">Using Paths <a class="header-anchor" href="#using-paths" aria-label="Permalink to &quot;Using Paths&quot;">​</a></h4><p>You can reference data in two ways:</p><ol><li><strong>Drag and Drop</strong>: Drag any field from the data tree directly to where you need it in your mapping</li><li><strong>Click to Insert</strong>: Click on your destination field, then click the arrow icon next to the desired data path to insert it</li></ol><p>All paths generate the appropriate JSON (or XPath if the data is in XMML format) path syntax automatically, making it easy to access nested data structures in your endpoint responses.</p><p><img src="'+s+'" alt="data tree"></p><h2 id="functions" tabindex="-1">Functions <a class="header-anchor" href="#functions" aria-label="Permalink to &quot;Functions&quot;">​</a></h2><p>Functions, provide built-in AireGlu utilities for data transformation and processing. These functions can be used to perform common operations like encoding, date formatting, generating unique identifiers, and more. Use the search box at the top of the Functions panel to quickly find specific functions by name or functionality. Inserting Functions</p><h4 id="available-functions" tabindex="-1">Available Functions <a class="header-anchor" href="#available-functions" aria-label="Permalink to &quot;Available Functions&quot;">​</a></h4><p>The Functions panel includes a comprehensive library of built-in functions:</p><ul><li><strong>DateTime</strong>: Gets the current UK date + time and allows you to supply formatting. You can use <code>--*AG:DateTime(dd-MM-yyyy:HH:mm:ss)*--</code> to return something like <code>23-10-2025:14:01:17</code>. If you don&#39;t supply formatting you will get the date and time returned with the following format <code>10/23/2025 2:01:17 PM</code></li><li><strong>UUID</strong>: Generates a unique GUID. Using <code>--*AG:UUID()*--</code> will return something like <code>752159eb-4b5c-46f6-8075-940d86f3cfec</code></li><li><strong>Random</strong>: Generates a random number with customisable ranges. For example <code>--*AG:Random(1, 100)*--</code> would return values such as <code>1</code>, <code>11</code>, <code>53</code>, <code>95</code>, <code>100</code> etc.</li><li><strong>OID</strong>: Generates an object identifier with the ability to add a custom prefix. <code>--*AG:OID()*--</code> would give you something like <code>.16119148528986018192686031671488659480</code> and <code>--*AG:OID(test-prefix)*--</code> would give you <code>test-prefix.46956660880318974376026675650154157887</code></li><li><strong>Base64Encode</strong>: Encode strings or streams to Base64 format. Can be called like so: <code>--*AG:Base64Encode(test-string)*--</code> to get a result of <code>dGVzdC1zdHJpbmc=</code></li><li><strong>Base64Decode</strong>: Decode Base64 strings back to original format. Calling <code>--*AG:Base64Decode(dGVzdC1zdHJpbmc=)*--</code> would give you the result <code>test-string</code></li><li><strong>UrlEncode</strong>: URL-encode strings for safe transmission. <code>--*AG:UrlEncode(isn&#39;t it)*--</code> would result in the <code>&#39;</code> and the space being encoded like so: <code>isn%27t+it</code>.</li><li><strong>Raw</strong>: Pass through data without transformation. For example, if your mapping output was in JSON format, this function can be useful to prevent JSON transformation from taking place for special characters. An example would be where you have a path <code>value-to-encode</code> with a value of <code>O&#39;Brien</code>, you can use <code>--*AG:Raw(--*value-to-encode*--)*--</code> to result in <code>O&#39;Brien</code> instead of transforming to <code>O\\u0027Brien</code>. Please see the <a href="#useful-information">Useful Information</a> section for more examples of how this can be useful to use with other functions like UrlEncode.</li><li><strong>JWT</strong>: Create JSON Web Tokens with RSA key signing. <code>--*AG:JWT({RSA_SIGNING_KEY}, {CLAIMS_AS_JSON_STRING})*--</code> will result in a JWT being created which will contain the supplied claims e.g. <code>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWUsImlhdCI6MTUxNjIzOTAyMn0.KMUFsIDTnFmyG3nMiGM6H9FNFUROf3wh7SmqJp-QV30</code>. Ideally you would store the RSA key as a secret and when trying to preview this you will get <code>[JWT token]</code> returned back instead of the JWT itself in the preview window.</li></ul><h4 id="useful-information" tabindex="-1">Useful information <a class="header-anchor" href="#useful-information" aria-label="Permalink to &quot;Useful information&quot;">​</a></h4><p>One thing to watch out for is if you supply a path token which contains a value with special characters e.g. path <code>value-to-encode</code> with value of <code>O&#39;Brien</code> and supply this to a function like so: <code>--*AG:UrlEncode(--*value-to-encode*--)*--</code>, it will actually attempt to transform the path value initally resulting in the value <code>O\\u0027Brien</code> if the output mode is JSON. In the UrlEncode example, this value will then get URL encoded to give you <code>O%5cu0027Brien</code>. If you would rather skip this initial transforming to <code>O\\u0027Brien</code> then you must use the <code>Raw</code> function at the same time like so <code>--*AG:UrlEncode(--*AG:Raw(--*value-to-encode*--)*--)*--</code> to give you a result of <code>O%27Brien</code>. The same behaviour exists for a liquid expression too, in this case</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>--*AG:UrlEncode({{ input.value-to-encode }})*--</span></span></code></pre></div><p>would give you a result of <code>O%5cu0027Brien</code>, whereas:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>--*AG:UrlEncode({{ input.value-to-encode | raw }})*--</span></span></code></pre></div><p>or</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>--*AG:UrlEncode(--*AG:Raw({{ input.value-to-encode }})*--)*--</span></span></code></pre></div><p>will give you <code>O%27Brien</code>.</p><p>Another thing to note, by default when using paths or liquid expressions, the values returned will be transformed if used in a textbox/textarea which has an output format setting. This output format will determine what transformation takes place and ultimately what value is returned. Using the <code>value-to-encode</code> with value of <code>O&#39;Brien</code> example above this would give us a transformation of <code>O\\u0027Brien</code> for JSON, <code>O&amp;#x27;Brien</code> for XML/HTML, <code>O%27Brien</code> for Query String, and simply <code>O&#39;Brien</code> for Text. However, this won&#39;t be the case for variables or secrets. In the case of variables and secrets, the values will not be transformed and will always resolve to the exact text value that was supplied. Therefore, if you had a variable of <code>O&#39;Brien</code>, the value returned would still be <code>O&#39;Brien</code> regardless of the output mode selected. If, for example, you wanted to have a JSON transformed value you would need to create a new variable with the value explicitly set as <code>O\\u0027Brien</code>.</p><p>Below shows various examples of the <code>value-to-encode</code> path and <code>value-to-encode-variable</code> variable being used with an XML based mapping task and functions. <img src="'+r+'" alt="xml mapping task with functions"></p><h4 id="using-functions" tabindex="-1">Using Functions <a class="header-anchor" href="#using-functions" aria-label="Permalink to &quot;Using Functions&quot;">​</a></h4><p>Functions can be configured in two ways:</p><ol><li><strong>Hard-coded Values</strong>: Enter static values directly into the function parameters</li><li><strong>Dynamic Templates</strong>: Use paths, variables, or secrets as function inputs by templating them into the parameters</li></ol><h4 id="inserting-functions" tabindex="-1">Inserting Functions <a class="header-anchor" href="#inserting-functions" aria-label="Permalink to &quot;Inserting Functions&quot;">​</a></h4><ul><li><strong>Drag and Drop</strong>: Drag any function from the list directly to where you need it in your mapping</li><li><strong>Click to Insert</strong>: Click on your destination field, then click the arrow icon next to the desired function</li></ul><p>In the examples shown:</p><ul><li><em>Base64Encode</em>: Encoding content like --name-- (a templated path reference) into Base64 format</li><li><em>Templated Base64Encode</em>: Using <code>--AG:Base64Encode(--name--)--</code> to encode dynamic content from the name field</li></ul><p>The <a href="#preview">preview panel</a> shows the real-time execution of these functions, demonstrating how they transform your data in the actual endpoint output.</p><p><img src="'+l+'" alt="data tree"></p><h3 id="secrets" tabindex="-1">Secrets <a class="header-anchor" href="#secrets" aria-label="Permalink to &quot;Secrets&quot;">​</a></h3><p>Secrets, let you add private data to your requests. This data cannot be seen once created, so is suitable for things like authentication details. You can use these either by dragging the required field to the left hand side where you need it, or by clicking to the destination point and hitting the arrow. You can read more about Secrets <a href="./../getting-started/secrets.html">here</a>.</p><p>The panel includes a search function at the top to help you find specific secrets quickly.</p><p>Secrets are particularly useful for templating sensitive information into your endpoint configuration, such as:</p><ul><li>Authorization headers (as shown in the image with <code>Bearer --audit-bearer-key?--</code>)</li><li>API keys</li><li>Authentication tokens</li><li>Other credentials that shouldn&#39;t be hardcoded</li></ul><p>This approach keeps sensitive information secure while still allowing you to reference it in your endpoint configuration.</p><p>Using secrets instead of hardcoding sensitive values improves security and makes credential management more flexible within your Airglu workflows.</p><p><img src="'+d+'" alt="secrets use"></p><h2 id="variables" tabindex="-1">Variables <a class="header-anchor" href="#variables" aria-label="Permalink to &quot;Variables&quot;">​</a></h2><p>Variables are tenant-wide settings that provide common data that can be reused across multiple endpoints. Unlike secrets, variables are visible and editable, so they should only contain non-sensitive information. You can use variables by either dragging them from the list to where you need them in your mapping, or by clicking on your destination field and then clicking the arrow icon next to the variable. You can read more about Variables <a href="./../getting-started/variables.html">here</a>.</p><p>The panel includes a search function at the top to help you find specific variables quickly. Each variable in the list has an arrow icon that allows you to insert it into your selected field.</p><p>This provides quick access to all variables that can be mapped into your endpoint configuration.</p><p><img src="'+c+'" alt="Editor"></p><h2 id="preview" tabindex="-1">Preview <a class="header-anchor" href="#preview" aria-label="Permalink to &quot;Preview&quot;">​</a></h2><p>The Preview panel on the right side shows you the output of your task. It can help you verify your mapping logic works correctly before saving your task. This collapsible panel can be toggled on and off using the &quot;Display Preview&quot; switch in the top-right corner.</p><p>The preview executes your mapping logic using sample data to show you exactly what your task output will look like. It processes:</p><ul><li><strong>Dynamic Data</strong>: References to input data and previous task outputs</li><li><strong>Function Execution</strong>: Real-time execution of AireGlu functions like UUID generation, date formatting, etc.</li><li><strong>Data Transformations</strong>: Any mapping, filtering, or transformation logic you&#39;ve configured</li></ul><h4 id="using-the-preview" tabindex="-1">Using the Preview <a class="header-anchor" href="#using-the-preview" aria-label="Permalink to &quot;Using the Preview&quot;">​</a></h4><ul><li><strong>Toggle Display</strong>: Use the &quot;Display Preview&quot; switch to show or hide the preview panel</li><li><strong>Validation</strong>: Click the &quot;Validate&quot; button to check for errors and refresh the preview</li><li><strong>Error Detection</strong>: Any issues with your mapping will be highlighted, requiring correction before the preview can display properly</li></ul><p>In the example shown, the preview demonstrates:</p><ul><li>The test property mapping from input data ($.name)</li><li>Live execution of the UUID function generating a real UUID value</li><li>The final JSON structure that will be output by this mapping task</li></ul><p><img src="'+h+'" alt="task preview"></p><h2 id="filters" tabindex="-1">Filters <a class="header-anchor" href="#filters" aria-label="Permalink to &quot;Filters&quot;">​</a></h2><p>Filters are used to look at available data, and determine if a task should run. It uses a <a href="https://goessner.net/articles/JsonPath" target="_blank" rel="noreferrer">JSONPath</a> expression that returns <code>true</code> or <code>false</code> to decide where to run the task, or skip it. You can add multiple filters to your task or you can choose to copy the filters of one task to another.</p><p><img src="'+u+'" alt="filters"></p>',97),g=[f];function m(b,y,w,k,v,x){return a(),t("div",null,g)}const P=e(p,[["render",m]]);export{T as __pageData,P as default};
